(function(e){function n(n){for(var c,u,o=n[0],i=n[1],d=n[2],h=0,f=[];h<o.length;h++)u=o[h],r[u]&&f.push(r[u][0]),r[u]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);s&&s(n);while(f.length)f.shift()();return a.push.apply(a,d||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],c=!0,u=1;u<t.length;u++){var o=t[u];0!==r[o]&&(c=!1)}c&&(a.splice(n--,1),e=i(i.s=t[0]))}return e}var c={},u={app:0},r={app:0},a=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-1eb13900":"eef9a66b","chunk-2d0b23b7":"69779fcc","chunk-2d0b66fc":"76139bc0","chunk-2d0b8ed2":"714d2ccf","chunk-2d0bac1e":"f48a0211","chunk-2d0de194":"d32a19a9","chunk-2d20888b":"d90e6e09","chunk-2d213022":"e8933684","chunk-2d22bf42":"331cd271","chunk-2d0c213c":"5790c882","chunk-3acfaef0":"1fc312c0","chunk-540b4fae":"ce3be4b5","chunk-5d45a324":"e9575040","chunk-2d0c0a51":"a7b029d1","chunk-7c8bfbf5":"e8516d31","chunk-7cacd192":"c56a5013","chunk-655d359a":"e5c8dee0","chunk-6bdfbcd2":"89fe3fe4","chunk-28eb06d7":"cf92a109","chunk-2d0cba57":"9d8f6f79","chunk-2d238660":"098785ae","chunk-2d3ff868":"45a4da6a","chunk-3cc5df75":"e6327afb","chunk-a58f2912":"be2c810e","chunk-cc301b48":"3dd15b21","chunk-45822230":"fd08011c","chunk-7701844a":"9f6b9ad0","chunk-d33d7fae":"228b379c","chunk-f1536034":"48959ae3","chunk-6b918105":"c629bc47","chunk-b6a38152":"7ead96b7","chunk-745c7cae":"c05db34f","chunk-74a2128a":"005343cf","chunk-76f1b011":"ad3d5037","chunk-771a2e2d":"4b8cee0a","chunk-772a4f3b":"e032e006","chunk-9030a816":"0b997283","chunk-a6bbf142":"ec0b7c2c","chunk-f014ee1e":"160f5f3a"}[e]+".js"}function i(n){if(c[n])return c[n].exports;var t=c[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-3acfaef0":1,"chunk-5d45a324":1,"chunk-7cacd192":1,"chunk-3cc5df75":1,"chunk-a58f2912":1,"chunk-cc301b48":1,"chunk-45822230":1,"chunk-7701844a":1,"chunk-f1536034":1,"chunk-6b918105":1,"chunk-b6a38152":1,"chunk-745c7cae":1,"chunk-74a2128a":1,"chunk-76f1b011":1,"chunk-771a2e2d":1,"chunk-772a4f3b":1,"chunk-9030a816":1,"chunk-a6bbf142":1};u[e]?n.push(u[e]):0!==u[e]&&t[e]&&n.push(u[e]=new Promise(function(n,t){for(var c="css/"+({}[e]||e)+"."+{"chunk-1eb13900":"31d6cfe0","chunk-2d0b23b7":"31d6cfe0","chunk-2d0b66fc":"31d6cfe0","chunk-2d0b8ed2":"31d6cfe0","chunk-2d0bac1e":"31d6cfe0","chunk-2d0de194":"31d6cfe0","chunk-2d20888b":"31d6cfe0","chunk-2d213022":"31d6cfe0","chunk-2d22bf42":"31d6cfe0","chunk-2d0c213c":"31d6cfe0","chunk-3acfaef0":"0fc322c6","chunk-540b4fae":"31d6cfe0","chunk-5d45a324":"d9111cd2","chunk-2d0c0a51":"31d6cfe0","chunk-7c8bfbf5":"31d6cfe0","chunk-7cacd192":"ee34e879","chunk-655d359a":"31d6cfe0","chunk-6bdfbcd2":"31d6cfe0","chunk-28eb06d7":"31d6cfe0","chunk-2d0cba57":"31d6cfe0","chunk-2d238660":"31d6cfe0","chunk-2d3ff868":"31d6cfe0","chunk-3cc5df75":"b7fcf66e","chunk-a58f2912":"50fae1cd","chunk-cc301b48":"d4769368","chunk-45822230":"2717b5f2","chunk-7701844a":"d5d13a82","chunk-d33d7fae":"31d6cfe0","chunk-f1536034":"1f337190","chunk-6b918105":"c817b009","chunk-b6a38152":"26247af9","chunk-745c7cae":"a7171d9a","chunk-74a2128a":"722bdf1d","chunk-76f1b011":"2f2933dc","chunk-771a2e2d":"d11f382a","chunk-772a4f3b":"1d7fc840","chunk-9030a816":"b2bbb747","chunk-a6bbf142":"51106675","chunk-f014ee1e":"31d6cfe0"}[e]+".css",r=i.p+c,a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var d=a[o],h=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(h===c||h===r))return n()}var f=document.getElementsByTagName("style");for(o=0;o<f.length;o++){d=f[o],h=d.getAttribute("data-href");if(h===c||h===r)return n()}var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onload=n,s.onerror=function(n){var c=n&&n.target&&n.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=c,delete u[e],s.parentNode.removeChild(s),t(a)},s.href=r;var l=document.getElementsByTagName("head")[0];l.appendChild(s)}).then(function(){u[e]=0}));var c=r[e];if(0!==c)if(c)n.push(c[2]);else{var a=new Promise(function(n,t){c=r[e]=[n,t]});n.push(c[2]=a);var d,h=document.createElement("script");h.charset="utf-8",h.timeout=120,i.nc&&h.setAttribute("nonce",i.nc),h.src=o(e),d=function(n){h.onerror=h.onload=null,clearTimeout(f);var t=r[e];if(0!==t){if(t){var c=n&&("load"===n.type?"missing":n.type),u=n&&n.target&&n.target.src,a=new Error("Loading chunk "+e+" failed.\n("+c+": "+u+")");a.type=c,a.request=u,t[1](a)}r[e]=void 0}};var f=setTimeout(function(){d({type:"timeout",target:h})},12e4);h.onerror=h.onload=d,document.head.appendChild(h)}return Promise.all(n)},i.m=e,i.c=c,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var c in e)i.d(t,c,function(n){return e[n]}.bind(null,c));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/",i.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],h=d.push.bind(d);d.push=n,d=d.slice();for(var f=0;f<d.length;f++)n(d[f]);var s=h;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);var c={};t.r(c),t.d(c,"attemptLogin",function(){return $}),t.d(c,"attemptRegister",function(){return B}),t.d(c,"logout",function(){return I}),t.d(c,"setUser",function(){return K}),t.d(c,"setToken",function(){return R}),t.d(c,"checkUserToken",function(){return F}),t.d(c,"loadUser",function(){return J});var u={};t.r(u),t.d(u,"isLogged",function(){return W}),t.d(u,"authToken",function(){return z}),t.d(u,"currentUser",function(){return D});var r={};t.r(r),t.d(r,"toggle",function(){return te});var a={};t.r(a),t.d(a,"isToggled",function(){return ce});var o={};t.r(o),t.d(o,"toggle",function(){return ue});t("cadf"),t("551c"),t("f751"),t("097d");var i=t("d232"),d=t("5c96"),h=(t("aaa5"),t("0fb7"),t("2b0e")),f=t("31bd"),s=t("1157"),l=t.n(s);window._=Promise.resolve().then(t.t.bind(null,"2ef0",7)),window.Popper=t.e("chunk-2d22bf42").then(t.bind(null,"f0bd")).default;try{window.$=window.jQuery=l.a,Promise.all([t.e("chunk-2d22bf42"),t.e("chunk-2d0c213c")]).then(t.t.bind(null,"4989",7)),t.e("chunk-76f1b011").then(t.t.bind(null,"a878",7)),t.e("chunk-745c7cae").then(t.t.bind(null,"29d8",7)),t.e("chunk-74a2128a").then(t.t.bind(null,"77ed",7)),t.e("chunk-772a4f3b").then(t.t.bind(null,"e7fb",7)),t.e("chunk-771a2e2d").then(t.t.bind(null,"d48d",7)),"function"!==typeof Promise.prototype["finally"]&&(Promise.prototype["finally"]=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})})}catch(we){throw we}var b,k=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("router-view")},p=[],m=t("2877"),g={},v=Object(m["a"])(g,k,p,!1,null,null,null),w=v.exports,y=t("75fc"),P=[{path:"auth/login",name:"auth.login",component:function(){return Promise.all([t.e("chunk-6bdfbcd2"),t.e("chunk-2d3ff868")]).then(t.bind(null,"487a"))}},{path:"auth/register",name:"auth.register",component:function(){return Promise.all([t.e("chunk-6bdfbcd2"),t.e("chunk-28eb06d7")]).then(t.bind(null,"bd49"))}},{path:"auth/oauth-redirect/:platform",name:"auth.oauth_redirect",meta:{navbar:!1,container:!1},component:function(){return t.e("chunk-1eb13900").then(t.bind(null,"ea9d"))}},{path:"auth/oauth-callback/:platform",name:"auth.oauth_callback",meta:{navbar:!1,container:!1},component:function(){return t.e("chunk-1eb13900").then(t.bind(null,"ea9d"))}},{path:"/user/forget-password",name:"auth.forget-password",component:function(){return t.e("chunk-2d0bac1e").then(t.bind(null,"3924"))}},{path:"/user/reset-password",name:"auth.reset-password",component:function(){return t.e("chunk-2d0b23b7").then(t.bind(null,"22de"))}}],j={user:{},token:null},O=t("bd86"),A="Auth//SET_TOKEN",T="Auth//SET_USER",_=(b={},Object(O["a"])(b,A,function(e,n){e.token=n}),Object(O["a"])(b,T,function(e,n){e.user=n}),b),E="APP_USER_TOKEN",U=t("a002"),S=t.n(U),q=function(e){e.subscribe(function(e,n){var t=n.Auth;A===e.type&&(Object(i["b"])(t.token),S.a.setItem(E,t.token))})},x=function(e){q(e)},N=function(e){var n=e.username,t=e.password;return i["a"].post("/oauth/token",{grant_type:"password",client_id:"2",client_secret:"FrmAjG9ViIrmzH0WpfrNBWnZJkbfo7ObbWd2obQn",username:n,password:t,scope:"*"})},C=function(e){return i["a"].post("/auth/register",e)},L=function(){return i["a"].get("/me").catch(function(){})},M=t("2ef0"),$=function(e,n){var t=e.dispatch;return N(n).then(function(e){return t("setToken",e.access_token),Promise.resolve()}).then(function(){return t("loadUser")})},B=function(e,n){var t=e.dispatch;return C(n).then(function(e){var n=e.token;return t("setToken",n),Promise.resolve()}).then(function(){return t("loadUser")})},I=function(e){var n=e.dispatch;return S.a.removeItem(E).then(n("setToken",null)).then(n("setUser",{}))},K=function(e,n){var t=e.commit;t(T,n),Promise.resolve(n)},R=function(e,n){var t=e.commit,c=Object(M["isEmpty"])(n)?null:n.token||n;return t(A,c),Promise.resolve(c)},F=function(e){var n=e.dispatch,t=e.state;return Object(M["isEmpty"])(t.token)?S.a.getItem(E).then(function(e){return Object(M["isEmpty"])(e)?Promise.reject("NO_TOKEN"):n("setToken",e)}).then(function(){return n("loadUser")}):Promise.resolve(t.token)},J=function(e){var n=e.dispatch;return L().then(function(e){return n("setUser",e)}).catch(I)},W=function(e){var n=e.token;return!Object(M["isEmpty"])(n)},z=function(e){var n=e.token;return n},D=function(e){var n=e.user;return n},H={module:{state:j,mutations:_,actions:c,getters:u},plugin:x},Q=[{path:"/",name:"home",component:function(){return Promise.all([t.e("chunk-5d45a324"),t.e("chunk-7cacd192")]).then(t.bind(null,"e360"))}}],G=[{path:"/nodes",name:"nodes.show",component:function(){return t.e("chunk-2d20888b").then(t.bind(null,"a4ce"))}},{path:"/nodes/:id",name:"nodes.node",component:function(){return Promise.all([t.e("chunk-5d45a324"),t.e("chunk-7c8bfbf5")]).then(t.bind(null,"19a1"))},meta:{container:!1}}],V=[{path:"notifications",name:"notifications.show",component:function(){return t.e("chunk-a6bbf142").then(t.bind(null,"8a9c"))},meta:{requiresAuth:!0}}],Z=[{path:"pages/privacy",name:"pages.privacy",component:function(){return t.e("chunk-2d0b66fc").then(t.bind(null,"1cc7"))}},{path:"pages/404",name:"pages.not-found",component:function(){return t.e("chunk-f014ee1e").then(t.bind(null,"1ce3"))}}],X=[{path:"threads/create",name:"threads.create",component:function(){return Promise.all([t.e("chunk-6bdfbcd2"),t.e("chunk-cc301b48"),t.e("chunk-7701844a")]).then(t.bind(null,"8b73"))}},{path:"threads/:id/edit",name:"threads.edit",component:function(){return Promise.all([t.e("chunk-6bdfbcd2"),t.e("chunk-cc301b48"),t.e("chunk-7701844a")]).then(t.bind(null,"8b73"))}},{path:"threads/:id",name:"threads.show",component:function(){return Promise.all([t.e("chunk-6bdfbcd2"),t.e("chunk-cc301b48"),t.e("chunk-3cc5df75"),t.e("chunk-45822230")]).then(t.bind(null,"5fd3"))}}],Y=[{path:"/:username",component:function(){return Promise.all([t.e("chunk-6bdfbcd2"),t.e("chunk-3cc5df75"),t.e("chunk-a58f2912")]).then(t.bind(null,"d7b0"))},children:[{path:"/",name:"users.show",meta:{container:!1},component:function(){return t.e("chunk-540b4fae").then(t.bind(null,"1201"))}},{path:"threads",name:"users.threads",meta:{container:!1},component:function(){return Promise.all([t.e("chunk-5d45a324"),t.e("chunk-2d0c0a51")]).then(t.bind(null,"4351"))}},{path:"followers",name:"users.followers",meta:{container:!1},component:function(){return Promise.all([t.e("chunk-6bdfbcd2"),t.e("chunk-f1536034"),t.e("chunk-6b918105")]).then(t.bind(null,"8f0b"))}},{path:"following",name:"users.following",meta:{container:!1},component:function(){return Promise.all([t.e("chunk-6bdfbcd2"),t.e("chunk-f1536034"),t.e("chunk-b6a38152")]).then(t.bind(null,"0320"))}}]},{path:"/user",component:function(){return t.e("chunk-9030a816").then(t.bind(null,"7abc"))},children:[{path:"profile",name:"user.profile",meta:{requiresAuth:!0},component:function(){return Promise.all([t.e("chunk-6bdfbcd2"),t.e("chunk-2d0cba57")]).then(t.bind(null,"4b0c"))}},{path:"account",name:"user.account",meta:{requiresAuth:!0},component:function(){return Promise.all([t.e("chunk-6bdfbcd2"),t.e("chunk-2d238660")]).then(t.bind(null,"fee0"))}},{path:"extends",name:"user.extends",meta:{requiresAuth:!0},component:function(){return t.e("chunk-655d359a").then(t.bind(null,"805a"))}},{path:"notification",name:"user.notification-setting",meta:{requiresAuth:!0},component:function(){return t.e("chunk-2d0b8ed2").then(t.bind(null,"3186"))}},{path:"bindings",name:"user.bindings",meta:{requiresAuth:!0},component:function(){return t.e("chunk-2d213022").then(t.bind(null,"ab9d"))}},{path:"avatar",name:"user.avatar",meta:{requiresAuth:!0},component:function(){return Promise.all([t.e("chunk-6bdfbcd2"),t.e("chunk-d33d7fae")]).then(t.bind(null,"acb4"))}},{path:"blacklist",name:"user.blacklist",meta:{requiresAuth:!0},component:function(){return t.e("chunk-2d0de194").then(t.bind(null,"83cf"))}}]}],ee=t("8c4f"),ne=t("2f62"),te=function(e){var n=e.commit;return n("toggle")},ce=function(e){var n=e.toggled;return n},ue=function(e){return e.toggled=!e.toggled},re={toggled:!1},ae=t("cebc"),oe=(t("ac6a"),t("456d"),{Auth:H}),ie=Object.keys(oe),de=ie.reduce(function(e,n){return Object(ae["a"])({},e,Object(O["a"])({},n,oe[n].module))},{}),he=ie.reduce(function(e,n){return[].concat(Object(y["a"])(e),[oe[n].plugin])},[]).filter(M["isFunction"]),fe={modules:de,plugins:he};h["default"].use(ne["a"]);var se=new ne["a"].Store({state:re,mutations:o,actions:r,modules:fe.modules,plugins:fe.plugins,getters:a,strict:!1}),le=function(e){return!0===e.meta.requiresAuth},be=function(e,n,t){se.dispatch("checkUserToken").then(function(){return se.getters.isLogged&&e.path.indexOf("auth")>0?t({name:"home"}):t()}).catch(function(){if(le(e))return t({name:"auth.login"});t()})},ke=be;h["default"].use(ee["a"]);var pe={path:"/",component:function(){return t.e("chunk-3acfaef0").then(t.bind(null,"7fe4"))},children:[].concat(Object(y["a"])(P),Object(y["a"])(Q),Object(y["a"])(X),Object(y["a"])(V),Object(y["a"])(G),Object(y["a"])(Z),Object(y["a"])(Y))},me=[pe],ge=new ee["a"]({routes:me,linkActiveClass:"active",linkExactActiveClass:"active",mode:"history"});ge.beforeEach(ke);var ve=ge;h["default"].config.productionTip=!1,Object(f["sync"])(se,ve),h["default"].prototype.$message=d["Message"],h["default"].prototype.$http=i["a"],h["default"].prototype.$user=function(){return se.getters.currentUser},setTimeout(function(){new h["default"]({store:se,router:ve,render:function(e){return e(w)}}).$mount("#app")},200)},d232:function(e,n,t){"use strict";var c=t("bc3a"),u=t.n(c),r=(t("ac6a"),t("456d"),t("5c96")),a=function(e){e.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),e.interceptors.response.use(function(e){return e.data},function(e){if(!e["response"])return Promise.reject(e);switch(e.response.status){case 422:var n=e.response.data.errors,t="";Object.keys(n).map(function(e){var c=n[e];t=c[0]}),r["Message"].error(t);break;case 403:r["Message"].error(e.response.data.message||"您没有此操作权限！");break;case 401:"/auth/login"!==window.location.pathname&&(window.location.href="/auth/login");break;case 500:case 501:case 503:default:r["Message"].error("服务器出了点小问题，程序员小哥哥要被扣工资了~！")}return Promise.reject(e.response)})};t.d(n,"b",function(){return i});var o=u.a.create({baseURL:"https://api.golang-china.cn",timeout:1e4});function i(e){o.defaults.headers.common.Authorization="Bearer ".concat(e)}a(o);n["a"]=o}});
//# sourceMappingURL=app.0ab9b09f.js.map