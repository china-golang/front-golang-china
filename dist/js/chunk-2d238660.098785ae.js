(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d238660"],{fee0:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"boxes"},[e("div",{staticClass:"box",attrs:{id:"edit-password"}},[t._m(0),e("form",{staticClass:"w-50",on:{submit:function(s){return s.preventDefault(),t.resetPassword(s)}}},[e("div",{staticClass:"form-group"},[e("label",[t._v("旧密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.oldPassword},on:{input:function(s){s.target.composing||(t.oldPassword=s.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("新密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("确认新密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.passwordConfirmation},on:{input:function(s){s.target.composing||(t.passwordConfirmation=s.target.value)}}})]),e("button",{staticClass:"btn btn-primary rounded",attrs:{type:"submit"}},[t._v("修改密码")]),e("router-link",{staticClass:"text-blue ml-2",attrs:{to:{name:"auth.forget-password"}}},[t._v("忘记密码？")])],1)]),e("div",{staticClass:"box",attrs:{id:"edit-email"}},[t._m(1),e("form",{staticClass:"w-50",on:{submit:function(s){return s.preventDefault(),t.updateEmail(s)}}},[e("div",{staticClass:"form-group"},[e("label",[t._v("原邮箱")]),e("input",{staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.currentUser.email}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("新邮箱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}}),e("small",{staticClass:"form-text text-muted"},[t._v("修改后需要进行新的邮箱验证。")])]),e("button",{staticClass:"btn btn-primary rounded",attrs:{type:"submit"}},[t._v("确定")])])]),t._e()])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box-heading border-bottom"},[e("h5",[t._v("修改密码")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box-heading border-bottom"},[e("h5",[t._v("修改邮箱地址")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box-heading border-bottom"},[e("h5",[t._v("修改手机号码")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-primary rounded-right"},[t._v("获取验证码")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-group"},[e("label",[t._v("验证码")]),e("input",{staticClass:"form-control",attrs:{type:"text"}})])}],o=(e("96cf"),e("3b8d")),i=e("cebc"),n=e("2f62"),l={data:function(){return{oldPassword:"",password:"",passwordConfirmation:"",email:"",phone:""}},computed:Object(i["a"])({},Object(n["c"])(["currentUser"])),mounted:function(){if(this.$route.hash){var t=this.$route.hash;this.goAnchor(t.slice(1))}},methods:{updateEmail:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("user/mail",{email:this.email});case 2:s=t.sent,this.$message.warning(s.message);case 4:case"end":return t.stop()}},t,this)}));function s(){return t.apply(this,arguments)}return s}(),resetPassword:function(){this.$http.post("user/reset-password",{old_password:this.oldPassword,password:this.password,password_confirmation:this.passwordConfirmation}),this.oldPassword="",this.password="",this.passwordConfirmation=""},goAnchor:function(t){var s=document.getElementById(t);s&&s.scrollIntoView()}}},d=l,u=e("2877"),c=Object(u["a"])(d,a,r,!1,null,null,null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d238660.098785ae.js.map