{"version":3,"sources":["webpack:///./src/modules/users/profile/account.vue?8789","webpack:///src/modules/users/profile/account.vue","webpack:///./src/modules/users/profile/account.vue?6833","webpack:///./src/modules/users/profile/account.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","_m","on","submit","$event","preventDefault","resetPassword","_v","directives","name","rawName","value","expression","type","domProps","input","target","composing","oldPassword","password","passwordConfirmation","to","updateEmail","disabled","currentUser","email","_e","staticRenderFns","accountvue_type_script_lang_js_","data","phone","computed","Object","objectSpread","vuex_esm","mounted","$route","hash","goAnchor","slice","methods","_updateEmail","asyncToGenerator","regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","$http","post","sent","$message","warning","message","stop","apply","arguments","old_password","password_confirmation","element","document","getElementById","scrollIntoView","profile_accountvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d238660.098785ae.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boxes\"},[_c('div',{staticClass:\"box\",attrs:{\"id\":\"edit-password\"}},[_vm._m(0),_c('form',{staticClass:\"w-50\",on:{\"submit\":function($event){$event.preventDefault();return _vm.resetPassword($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"旧密码\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.oldPassword),expression:\"oldPassword\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.oldPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.oldPassword=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"新密码\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"确认新密码\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordConfirmation),expression:\"passwordConfirmation\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.passwordConfirmation)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.passwordConfirmation=$event.target.value}}})]),_c('button',{staticClass:\"btn btn-primary rounded\",attrs:{\"type\":\"submit\"}},[_vm._v(\"修改密码\")]),_c('router-link',{staticClass:\"text-blue ml-2\",attrs:{\"to\":{name: 'auth.forget-password'}}},[_vm._v(\"忘记密码？\")])],1)]),_c('div',{staticClass:\"box\",attrs:{\"id\":\"edit-email\"}},[_vm._m(1),_c('form',{staticClass:\"w-50\",on:{\"submit\":function($event){$event.preventDefault();return _vm.updateEmail($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"原邮箱\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.currentUser.email}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"新邮箱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\"修改后需要进行新的邮箱验证。\")])]),_c('button',{staticClass:\"btn btn-primary rounded\",attrs:{\"type\":\"submit\"}},[_vm._v(\"确定\")])])]),(false)?_c('div',{staticClass:\"box\",attrs:{\"id\":\"edit-phone\"}},[_vm._m(2),_c('form',{staticClass:\"w-50\"},[(_vm.currentUser.phone)?_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"原号码\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.currentUser.phone}})]):_vm._e(),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"新号码\")]),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}}),_vm._m(3)]),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\"修改手机号码需要进行短信验证。\")])]),_vm._m(4),_c('button',{staticClass:\"btn btn-primary rounded\"},[_vm._v(\"确定\")])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-heading border-bottom\"},[_c('h5',[_vm._v(\"修改密码\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-heading border-bottom\"},[_c('h5',[_vm._v(\"修改邮箱地址\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-heading border-bottom\"},[_c('h5',[_vm._v(\"修改手机号码\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary rounded-right\"},[_vm._v(\"获取验证码\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"验证码\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"boxes\">\n    <div class=\"box\" id=\"edit-password\">\n      <div class=\"box-heading border-bottom\">\n        <h5>修改密码</h5>\n      </div>\n      <form class=\"w-50\" @submit.prevent=\"resetPassword\">\n        <div class=\"form-group\">\n          <label>旧密码</label>\n          <input type=\"password\" v-model=\"oldPassword\" class=\"form-control\">\n        </div>\n        <div class=\"form-group\">\n          <label>新密码</label>\n          <input type=\"password\" v-model=\"password\" class=\"form-control\">\n        </div>\n        <div class=\"form-group\">\n          <label>确认新密码</label>\n          <input type=\"password\" v-model=\"passwordConfirmation\" class=\"form-control\">\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary rounded\">修改密码</button>\n        <router-link :to=\"{name: 'auth.forget-password'}\" class=\"text-blue ml-2\">忘记密码？</router-link>\n      </form>\n    </div>\n    <div class=\"box\" id=\"edit-email\">\n      <div class=\"box-heading border-bottom\">\n        <h5>修改邮箱地址</h5>\n      </div>\n      <form class=\"w-50\" @submit.prevent=\"updateEmail\">\n        <div class=\"form-group\">\n          <label>原邮箱</label>\n          <input type=\"text\" disabled class=\"form-control\" :value=\"currentUser.email\">\n        </div>\n        <div class=\"form-group\">\n          <label>新邮箱</label>\n          <input type=\"text\" class=\"form-control\" v-model=\"email\">\n          <small class=\"form-text text-muted\">修改后需要进行新的邮箱验证。</small>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary rounded\">确定</button>\n      </form>\n    </div>\n    <div class=\"box\" id=\"edit-phone\" v-if=\"false\">\n      <div class=\"box-heading border-bottom\">\n        <h5>修改手机号码</h5>\n      </div>\n      <form class=\"w-50\">\n        <div class=\"form-group\" v-if=\"currentUser.phone\">\n          <label>原号码</label>\n          <input type=\"text\" disabled class=\"form-control\" :value=\"currentUser.phone\">\n        </div>\n        <div class=\"form-group\">\n          <label>新号码</label>\n          <div class=\"input-group\">\n            <input type=\"text\" class=\"form-control\" v-model=\"phone\">\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-primary rounded-right\">获取验证码</button>\n            </div>\n          </div>\n          <small class=\"form-text text-muted\">修改手机号码需要进行短信验证。</small>\n        </div>\n        <div class=\"form-group\">\n          <label>验证码</label>\n          <input type=\"text\" class=\"form-control\">\n        </div>\n        <button class=\"btn btn-primary rounded\">确定</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nexport default {\n  data () {\n    return {\n      oldPassword: '',\n      password: '',\n      passwordConfirmation: '',\n      email: '',\n      phone: ''\n    }\n  },\n  computed: {\n    ...mapGetters(['currentUser'])\n  },\n  mounted () {\n    if (this.$route.hash) {\n      let hash = this.$route.hash\n\n      this.goAnchor(hash.slice(1))\n    }\n  },\n  methods: {\n    async updateEmail () {\n      let result = await this.$http.post('user/mail', {\n        email: this.email\n      })\n\n      this.$message.warning(result.message)\n    },\n    resetPassword () {\n      this.$http.post('user/reset-password', {\n        old_password: this.oldPassword,\n        password: this.password,\n        password_confirmation: this.passwordConfirmation\n      })\n\n      this.oldPassword = ''\n      this.password = ''\n      this.passwordConfirmation = ''\n    },\n    goAnchor (name) {\n      let element = document.getElementById(name)\n\n      if (element) {\n        element.scrollIntoView()\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./account.vue?vue&type=template&id=e2577c44&\"\nimport script from \"./account.vue?vue&type=script&lang=js&\"\nexport * from \"./account.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}